<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <!-- ...existing header code... -->
    </header>

    <section id="product-details" class="product-details">
        <div class="product-image">
            <img id="product-image" src="" alt="Product Image">
        </div>
        <div class="product-info">
            <h1 id="product-name"></h1>
            <p id="product-color"></p>
            <p id="product-price"></p>
            <p>
                <label for="product-size">Size:</label>
                <select id="product-size"></select>
            </p>
            <p>
                <label for="product-quantity">Quantity:</label>
                <div class="quantity-controls">
                    <button type="button" onclick="changeQuantity('product-quantity', -1)">-</button>
                    <input type="number" id="product-quantity" name="product-quantity" value="1" min="1" max="9" readonly>
                    <button type="button" onclick="changeQuantity('product-quantity', 1)">+</button>
                </div>
            </p>
            <button onclick="addToCart()">ADD TO CART</button>
        </div>
    </section>

    <footer>
        <!-- ...existing footer code... -->
    </footer>

    <script type="module">
        import config from './src/config.js';

        const product = JSON.parse(localStorage.getItem('selectedProduct'));
        const backendUrl = config.backendUrl;

        document.getElementById('product-image').src = product.image;
        document.getElementById('product-name').innerText = product.name;
        document.getElementById('product-color').innerText = `Color: ${product.color}`;
        document.getElementById('product-price').innerText = `Price: ₦${product.sizes.small}`;

        const sizeSelect = document.getElementById('product-size');
        Object.keys(product.sizes).forEach(size => {
            const option = document.createElement('option');
            option.value = size;
            option.innerText = size.charAt(0).toUpperCase() + size.slice(1);
            sizeSelect.appendChild(option);
        });

        sizeSelect.addEventListener('change', () => {
            const selectedSize = sizeSelect.value;
            document.getElementById('product-price').innerText = `Price: ₦${product.sizes[selectedSize]}`;
        });

        function addToCart() {
            const size = sizeSelect.value;
            const quantity = document.getElementById('product-quantity').value;
            const price = document.getElementById('product-price').innerText;
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push({ name: product.name, color: product.color, size, quantity, price });
            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Product added to cart');
        }

        function changeQuantity(quantityId, delta) {
            const quantityInput = document.getElementById(quantityId);
            let quantity = parseInt(quantityInput.value);
            quantity = Math.max(1, Math.min(9, quantity + delta));
            quantityInput.value = quantity;
        }
    </script>
</body>
</html>
